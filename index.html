<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WekezaApp Gold | Smart Farming</title>
    <style>
        :root { --gold: #c5a059; --green: #27ae60; --dark: #111; --light: #f9f9f9; }
        body { font-family: 'Poppins', sans-serif; background: var(--light); margin: 0; padding-bottom: 90px; }
        .hidden { display: none !important; }

        /* Kifahali Modal */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:9999; display:flex; align-items:center; justify-content:center; padding:20px; box-sizing:border-box; }
        .modal-card { background:white; padding:25px; border-radius:25px; text-align:center; width:100%; max-width:380px; border-top: 6px solid var(--gold); animation: slideUp 0.3s; }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Auth */
        .auth-container { padding: 30px 20px; max-width: 450px; margin: auto; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        input, select { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #eee; border-radius: 12px; box-sizing: border-box; }
        .btn-gold { width: 100%; padding: 15px; background: var(--dark); color: white; border: 1px solid var(--gold); border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* Dashboard */
        .header { background: var(--dark); color: white; padding: 40px 20px 60px; border-radius: 0 0 40px 40px; }
        .balance-card { background: white; margin: -40px 20px 20px; padding: 25px; border-radius: 25px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .action-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .act-btn { padding: 12px; border-radius: 12px; border: none; font-weight: bold; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 5px; }

        /* Mazao Cards */
        .crop-card { background: white; margin: 15px 20px; border-radius: 20px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border: 1px solid #f0f0f0; }
        .crop-img { width: 100%; height: 170px; object-fit: cover; }
        .crop-body { padding: 15px; }

        /* Bottom Menu */
        .bottom-menu { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; border-radius: 25px 25px 0 0; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); z-index: 1000; }
        .menu-btn { text-align: center; color: #aaa; font-size: 11px; cursor: pointer; }
        .active { color: var(--gold); font-weight: bold; }
    </style>
</head>
<body>

<div id="infoModal" class="modal hidden">
    <div class="modal-card">
        <h2 id="mTitle" style="color:var(--gold); margin-top:0;">üíé Taarifa</h2>
        <div id="mBody" style="text-align: left; font-size: 14px; color: #444; margin-bottom: 20px;"></div>
        <div id="mActions"></div>
    </div>
</div>

<div id="authBox" class="auth-container">
    <div id="signupPage" class="card">
        <h2 style="color:var(--gold); text-align:center;">Jisajili</h2>
        <input type="text" id="regFullName" placeholder="Majina Matatu">
        <input type="text" id="regUser" placeholder="Username (Mfano: juma01)">
        <input type="email" id="regEmail" placeholder="Barua Pepe (Email)">
        <input type="tel" id="regPhone" placeholder="Namba ya Simu">
        <select id="regNetwork">
            <option value="">Chagua Mtandao</option>
            <option>M-Pesa</option><option>Tigo Pesa</option><option>Airtel Money</option>
        </select>
        <input type="text" id="regBankName" placeholder="Jina la Benki">
        <input type="text" id="regBankAcc" placeholder="Namba ya Akaunti">
        <input type="password" id="regPass" placeholder="Password">
        <button class="btn-gold" onclick="handleSignup()">TENGENEZA AKAUNTI</button>
        <p style="text-align:center; font-size:12px; cursor:pointer;" onclick="toggleAuth('login')">Unayo akaunti? <b>Ingia</b></p>
    </div>

    <div id="loginPage" class="card hidden">
        <h2 style="color:var(--gold); text-align:center;">Ingia</h2>
        <input type="text" id="loginUser" placeholder="Username">
        <input type="password" id="loginPass" placeholder="Password">
        <button class="btn-gold" onclick="handleLogin()">INGIA</button>
        <p style="text-align:center; font-size:12px; cursor:pointer;" onclick="toggleAuth('signup')">Huna akaunti? <b>Jisajili</b></p>
    </div>
</div>

<div id="dashboard" class="hidden">
    <div class="header">
        <h3 id="welc">Karibu!</h3>
        <span style="border:1px solid var(--gold); padding:2px 10px; border-radius:15px; font-size:10px; color:var(--gold);">GOLD MEMBER üèÜ</span>
    </div>

    <div class="balance-card">
        <p style="color:#888; font-size:12px; margin:0;">SALIO LA DHAMANA</p>
        <div style="font-size:32px; font-weight:800;">0.00 <span style="font-size:14px; color:var(--gold);">TSH</span></div>
        <div class="action-row">
            <button class="act-btn" style="background:var(--green);" onclick="nav('marketSec')">‚ûï NUNUA</button>
            <button class="act-btn" style="background:#444;" onclick="openAlert('Huwezi kuuza hisa kwa sasa. Hisa zako lazima zifikie mwezi 1 tangu kuwekeza ili kutoa faida.')">‚ûñ UZA</button>
        </div>
    </div>

    <div id="marketSec" class="page-sec">
        <h4 style="margin-left:20px;">Soko la Mazao Leo üåΩ</h4>
        
        <div class="crop-card">
            <img src="https://images.unsplash.com/photo-1595246140625-573b715d11dc?w=400" class="crop-img">
            <div class="crop-body">
                <b>Hisa za Korosho - Mtwara</b>
                <p style="color:var(--green); font-weight:bold;">Faida: 25% Kila Mwezi</p>
                <button class="btn-gold" onclick="confirmCrop('Korosho', '25%', '50,000', 'Mradi huu unahusisha ununuzi wa korosho ghafi na kuzibangua kwa ajili ya soko la nje. Utapata gawio kila tarehe 30 ya mwezi.', 'https://palmpesa.drmlelwa.co.tz/contribute/A9LZ45HYJE')">Wekeza 50,000</button>
            </div>
        </div>

        <div class="crop-card">
            <img src="https://images.unsplash.com/photo-1528825871115-3581a5387919?w=400" class="crop-img">
            <div class="crop-body">
                <b>Hisa za Ndizi - Kagera</b>
                <p style="color:var(--green); font-weight:bold;">Faida: 15% Kila Mwezi</p>
                <button class="btn-gold" onclick="confirmCrop('Ndizi', '15%', '2,000', 'Ndizi hizi husafirishwa kwenda sokoni Dar es Salaam. Ni mradi wa uhakika wenye mzunguko wa haraka wa pesa.', 'https://palmpesa.drmlelwa.co.tz/contribute/V5BYMSEIKQ')">Wekeza 2,000</button>
            </div>
        </div>

        <div class="crop-card">
            <img src="https://images.unsplash.com/photo-1551754655-cd27e38d2076?w=400" class="crop-img">
            <div class="crop-body">
                <b>Hisa za Mahindi - Songea</b>
                <p style="color:var(--green); font-weight:bold;">Faida: 20% Kila Mwezi</p>
                <button class="btn-gold" onclick="confirmCrop('Mahindi', '20%', '3,000', 'Mahindi ya Songea ni chakula kikuu. Mtaji wako unatumika kununua mbolea na mbegu bora. Faida ni kubwa.', 'https://palmpesa.drmlelwa.co.tz/contribute/V5BYMSEIKQV5BYMSEIKQ')">Wekeza 3,000</button>
            </div>
        </div>
    </div>

    <div id="brokerSec" class="page-sec hidden" style="padding:20px;">
        <h3>Mawakala wa Dhahabu üõ°Ô∏è</h3>
        <div class="card" style="margin-bottom:15px;">
            <b>Broker Ally Said</b><br>Namba: 0750020767<br>
            <a href="https://wa.me/255750020767?text=Habari%20Broker%20Ally,%20nimetoka%20kulipia%20hisa.%20Hii%20hapa%20risiti" class="btn-gold" style="display:block; text-align:center; text-decoration:none; margin-top:10px; background:#25d366; border:none;">WhatsApp Broker Ally</a>
        </div>
        <div class="card">
            <b>Broker Said</b><br>Namba: 0612929319<br>
            <a href="https://wa.me/255612929319?text=Habari%20Broker%20Said,%20nimetoka%20kulipia%20hisa.%20Hii%20hapa%20risiti" class="btn-gold" style="display:block; text-align:center; text-decoration:none; margin-top:10px; background:#25d366; border:none;">WhatsApp Broker Said</a>
        </div>
    </div>

    <div id="settingsSec" class="page-sec hidden" style="padding:20px;">
        <h3>Settings & Language ‚öôÔ∏è</h3>
        <div class="card">
            <p>Badili Lugha / Language</p>
            <select onchange="alert('Lugha imebadilishwa!')">
                <option>Kiswahili üáπüáø</option>
                <option>English üá∫üá∏</option>
            </select>
            <hr>
            <button class="btn-gold" style="background:#e74c3c; border:none;" onclick="location.reload()">LOGOUT</button>
        </div>
    </div>
</div>

<div id="bMenu" class="bottom-menu hidden">
    <div class="menu-btn active" onclick="nav('marketSec', this)">üè†<br>Nyumbani</div>
    <div class="menu-btn" onclick="nav('brokerSec', this)">üõ°Ô∏è<br>Broker</div>
    <div class="menu-btn" onclick="nav('settingsSec', this)">‚öôÔ∏è<br>Setting</div>
</div>

<script>
let localDB = null;

function toggleAuth(type) {
    document.getElementById('signupPage').classList.toggle('hidden', type === 'login');
    document.getElementById('loginPage').classList.toggle('hidden', type === 'signup');
}

function openAlert(msg) {
    document.getElementById('mTitle').innerText = "‚ö†Ô∏è Taarifa";
    document.getElementById('mBody').innerText = msg;
    document.getElementById('mActions').innerHTML = `<button class="btn-gold" onclick="closeModal()">NIMEFAHAMU</button>`;
    document.getElementById('infoModal').classList.remove('hidden');
}

function closeModal() { document.getElementById('infoModal').classList.add('hidden'); }

function handleSignup() {
    const fields = ['regFullName', 'regUser', 'regEmail', 'regPhone', 'regNetwork', 'regBankName', 'regBankAcc', 'regPass'];
    for(let f of fields) { if(!document.getElementById(f).value) return openAlert("Jaza taarifa zote!"); }
    if(document.getElementById('regFullName').value.split(' ').length < 3) return openAlert("Andika majina matatu!");

    localDB = { user: document.getElementById('regUser').value, pass: document.getElementById('regPass').value, name: document.getElementById('regFullName').value };
    openAlert("Usajili umekamilika! Tafadhali ingia sasa.");
    toggleAuth('login');
}

function handleLogin() {
    const u = document.getElementById('loginUser').value;
    const p = document.getElementById('loginPass').value;
    if(!localDB || localDB.user !== u || localDB.pass !== p) return openAlert("Account yako haipo! Tafadhali jisajili.");

    document.getElementById('authBox').classList.add('hidden');
    document.getElementById('dashboard').classList.remove('hidden');
    document.getElementById('bMenu').classList.remove('hidden');
    document.getElementById('welc').innerText = "Karibu, " + localDB.name.split(' ')[0];
}

function nav(id, btn) {
    document.querySelectorAll('.page-sec').forEach(s => s.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
    document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
    if(btn) btn.classList.add('active');
}

function confirmCrop(name, profit, price, desc, link) {
    document.getElementById('mTitle').innerText = "üíé Mchanganuo wa " + name;
    document.getElementById('mBody').innerHTML = `<b>Faida:</b> ${profit} kwa mwezi<br><b>Mtaji:</b> Tsh ${price}<br><br><b>Maelezo:</b> ${desc}`;
    document.getElementById('mActions').innerHTML = `
        <button class="btn-gold" style="background:var(--green); border:none; margin-bottom:10px;" onclick="window.location.href='${link}'">NIMEKUBALI, PELEKA KWENYE MALIPO</button>
        <button class="btn-gold" style="background:#888; border:none;" onclick="closeModal()">GHAIRI</button>
    `;
    document.getElementById('infoModal').classList.remove('hidden');
}
</script>
</body>
                  </html>
    
